---
title: "ActiveFiltersBar"
description: "A horizontal bar displaying active filters as removable tags with optional scroll functionality for overflow management."
---

import { ActiveFiltersBarPreview } from "../../preview/ActiveFiltersBar.preview";

## Usage

<ActiveFiltersBarPreview />

```jsx
import { useState } from "react";

import { ActiveFiltersBar } from "@muatmuat/ui/ActiveFiltersBar";

function FilterExample() {
  const [filters, setFilters] = useState([
    { id: 1, label: "Jakarta", item: { icon: "/icons/location.svg" } },
    { id: 2, label: "Sedan", item: { icon: "/icons/truck.svg" } },
    { id: 3, label: "Under 5 Years", item: { icon: "/icons/calendar.svg" } },
    {
      id: 4,
      label: "Price: Low to High",
      item: { icon: "/icons/sorting16.svg" },
    },
  ]);

  const handleRemoveFilter = (filter) => {
    setFilters(filters.filter((f) => f.id !== filter.id));
  };

  const handleClearAll = () => {
    setFilters([]);
  };

  return (
    <div className="space-y-4">
      <ActiveFiltersBar
        filters={filters}
        onRemoveFilter={handleRemoveFilter}
        onClearAll={handleClearAll}
        showClearAll={true}
        clearAllText="Hapus Semua Filter"
      />

      {filters.length === 0 && (
        <p className="text-sm text-gray-500">No active filters</p>
      )}
    </div>
  );
}
```

## API Reference

### Props

| Prop                  | Type           | Default                  | Description                                 |
| --------------------- | -------------- | ------------------------ | ------------------------------------------- |
| filters               | `FilterItem[]` | []                       | Array of filter objects to display          |
| onRemoveFilter        | `function`     | -                        | Callback function when a filter is removed  |
| onClearAll            | `function`     | -                        | Callback function when clear all is clicked |
| className             | `string`       | -                        | Additional CSS classes for the container    |
| showClearAll          | `boolean`      | true                     | Whether to show the clear all button        |
| clearAllText          | `string`       | "Hapus Semua Filter"     | Text for the clear all button               |
| emptyText             | `string`       | "Tidak ada filter aktif" | Text to show when no filters are active     |
| tagClassName          | `string`       | -                        | Additional CSS classes for filter tags      |
| scrollButtonClassName | `string`       | -                        | Additional CSS classes for scroll buttons   |

### FilterItem

| Property  | Type             | Description                      |
| --------- | ---------------- | -------------------------------- |
| id        | `string\|number` | Unique identifier for the filter |
| label     | `string`         | Display text for the filter      |
| item      | `object`         | Optional filter metadata         |
| item.icon | `string`         | Optional icon URL for the filter |

### Types

```typescript
interface FilterItem {
  id?: string | number;
  label: string;
  item?: {
    icon?: string;
  };
}

interface ActiveFiltersBarProps {
  filters?: FilterItem[];
  onRemoveFilter?: (filter: FilterItem) => void;
  onClearAll?: () => void;
  className?: string;
  showClearAll?: boolean;
  clearAllText?: string;
  emptyText?: string;
  tagClassName?: string;
  scrollButtonClassName?: string;
}
```

## Behavior

- Displays active filters as removable pill tags with optional icons
- Automatically handles overflow with smooth horizontal scrolling when filters exceed container width
- Shows/hides scroll navigation buttons based on overflow state
- Renders nothing when no filters are active (returns null)
- Supports individual filter removal and bulk clear all functionality
- Responsive design that adapts to different screen sizes and filter quantities
- Accessible button elements with proper ARIA labels for screen readers
- Smooth scroll animations and hover states for better user experience

**Variants**: with icons, without icons, with clear all, without clear all, overflow state, empty state
**Sizes**: Compact pill design with responsive overflow handling

**Key Guidelines**:

- Use for displaying currently active filters in search, data tables, or list views
- Provide meaningful filter labels that clearly describe the applied criteria
- Include icons when available to improve visual recognition of filter types
- Leverage scroll functionality for scenarios with many active filters
- Implement proper state management to synchronize filter state across components
- Consider user experience when deciding whether to show clear all functionality

## Component Code

```tsx
import * as React from "react";
import { useEffect, useRef, useState } from "react";

import { cn } from "@muatmuat/lib/utils";
import { ChevronLeft, ChevronRight, X } from "lucide-react";

import { IconComponent } from "../IconComponent";

export interface FilterItem {
  id?: string | number;
  label: string;
  item?: {
    icon?: string;
  };
}

export interface ActiveFiltersBarProps {
  filters?: FilterItem[];
  onRemoveFilter?: (filter: FilterItem) => void;
  onClearAll?: () => void;
  className?: string;
  showClearAll?: boolean;
  clearAllText?: string;
  emptyText?: string;
  tagClassName?: string;
  scrollButtonClassName?: string;
}

export const ActiveFiltersBar: React.FC<ActiveFiltersBarProps> = ({
  filters = [],
  onRemoveFilter,
  onClearAll,
  className,
  showClearAll = true,
  clearAllText = "Hapus Semua Filter",
  emptyText = "Tidak ada filter aktif",
  tagClassName,
  scrollButtonClassName,
}) => {
  const scrollContainerRef = useRef<HTMLDivElement>(null);
  const [canScrollLeft, setCanScrollLeft] = useState(false);
  const [canScrollRight, setCanScrollRight] = useState(false);

  const checkScroll = () => {
    const container = scrollContainerRef.current;
    if (!container) return;

    setCanScrollLeft(container.scrollLeft > 0);
    setCanScrollRight(
      container.scrollLeft < container.scrollWidth - container.clientWidth - 1
    );
  };

  useEffect(() => {
    checkScroll();
    const container = scrollContainerRef.current;
    if (!container) return;

    container.addEventListener("scroll", checkScroll);
    window.addEventListener("resize", checkScroll);

    return () => {
      container.removeEventListener("scroll", checkScroll);
      window.removeEventListener("resize", checkScroll);
    };
  }, [filters]);

  const scroll = (direction: "left" | "right") => {
    const container = scrollContainerRef.current;
    if (!container) return;

    const scrollAmount = 200;
    container.scrollBy({
      left: direction === "left" ? -scrollAmount : scrollAmount,
      behavior: "smooth",
    });
  };

  if (filters.length === 0) {
    return null;
  }

  return (
    <div className={cn("flex items-center gap-3", className)}>
      {/* Clear All Button */}
      {showClearAll && (
        <button
          onClick={onClearAll}
          className="shrink-0 text-xs font-bold text-primary-700 hover:text-primary-800"
        >
          {clearAllText}
        </button>
      )}

      {/* Scroll Left Button */}
      {(canScrollLeft || canScrollRight) && (
        <button
          onClick={() => scroll("left")}
          className={cn(
            "shrink-0 rounded-full border p-1 transition-all",
            canScrollLeft
              ? "border-neutral-600 text-neutral-900 hover:bg-neutral-100"
              : "border-neutral-500 text-neutral-500 hover:cursor-not-allowed",
            scrollButtonClassName
          )}
          aria-label="Scroll left"
        >
          <ChevronLeft className="h-4 w-4" />
        </button>
      )}

      {/* Filter Tags Container */}
      <div className="relative flex-1 overflow-hidden">
        <div
          ref={scrollContainerRef}
          className="scrollbar-hide flex gap-2 overflow-x-auto"
          style={{ scrollbarWidth: "none", msOverflowStyle: "none" }}
        >
          {filters.map((filter, index) => (
            <div
              key={index}
              className={cn(
                "flex h-7 shrink-0 items-center gap-2 rounded-full border border-primary-700 bg-neutral-50 px-3",
                tagClassName
              )}
            >
              {filter.item?.icon && (
                <IconComponent src={filter.item.icon} width={14} height={14} />
              )}
              <span className="text-xs font-medium text-primary-700">
                {filter.label}
              </span>
              <button
                onClick={() => onRemoveFilter?.(filter)}
                className="rounded-full p-0.5 text-primary-700 transition-colors hover:bg-primary-100"
                aria-label={`Remove ${filter.label} filter`}
              >
                <X size={14} />
              </button>
            </div>
          ))}
        </div>
      </div>

      {/* Scroll Right Button */}
      {(canScrollLeft || canScrollRight) && (
        <button
          onClick={() => scroll("right")}
          className={cn(
            "shrink-0 rounded-full border p-1 transition-all",
            canScrollRight
              ? "border-neutral-600 text-neutral-900 hover:bg-neutral-100"
              : "border-neutral-500 text-neutral-500 hover:cursor-not-allowed",
            scrollButtonClassName
          )}
          aria-label="Scroll right"
        >
          <ChevronRight className="h-4 w-4" />
        </button>
      )}
    </div>
  );
};
```
