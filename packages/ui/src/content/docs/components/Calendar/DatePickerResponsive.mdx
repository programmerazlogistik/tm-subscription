---
title: "DatePickerResponsive"
description: "A responsive date picker component using native browser date input with optimized mobile experience."
---

import { DatePickerResponsivePreview } from "../../preview/DatePickerResponsive.preview";

## Usage

<DatePickerResponsivePreview />

```jsx
import { useState } from "react";

import { DatePickerResponsive } from "@muatmuat/ui/Calendar";

function MyDatePicker() {
  const [selectedDate, setSelectedDate] = useState(null);

  return (
    <DatePickerResponsive
      value={selectedDate}
      onChange={setSelectedDate}
      placeholder="Select Date"
      dateFormat="dd MMM yyyy"
      minDate={new Date()}
      maxDate={new Date(2024, 11, 31)}
    />
  );
}
```

## API Reference

### Props

| Prop             | Type                                                                                      | Default         | Description                                      |
| ---------------- | ----------------------------------------------------------------------------------------- | --------------- | ------------------------------------------------ |
| value            | `string \| null`                                                                          | -               | Currently selected date as string (ISO format)   |
| onChange         | `(date: string \| undefined) => void`                                                     | -               | Callback when date selection changes             |
| onApply          | `(date: string \| undefined) => void`                                                     | -               | Callback when date is applied (auto-applied)     |
| minDate          | `Date`                                                                                    | -               | Earliest selectable date                         |
| maxDate          | `Date`                                                                                    | -               | Latest selectable date                           |
| disabled         | `boolean`                                                                                 | `false`         | Whether the date picker is disabled              |
| dateFormat       | `string`                                                                                  | `"dd MMM yyyy"` | Date format for display (using date-fns)         |
| placeholder      | `string`                                                                                  | `"Select Date"` | Placeholder text for empty state                 |
| className        | `string`                                                                                  | -               | Additional CSS classes for container             |
| errorMessage     | `string`                                                                                  | -               | Error message to display below picker            |
| hideErrorMessage | `boolean`                                                                                 | `false`         | Hide error message display                       |
| status           | `"error" \| "success"`                                                                    | -               | Status for styling (use "error" for error state) |
| t                | `(key: string, values?: Record<string, any>, fallback?: string) => string`                | Mock function   | Translation function                             |
| appearance       | `{containerClassName?: string; inputClassName?: string; errorMessageClassName?: string;}` | `{}`            | Custom appearance overrides                      |
| isError          | `boolean`                                                                                 | -               | @deprecated Use status="error" instead           |

### Types

```typescript
interface DatePickerResponsiveProps {
  value?: string | null;
  onChange?: (date: string | undefined) => void;
  onApply?: (date: string | undefined) => void;
  minDate?: Date;
  maxDate?: Date;
  disabled?: boolean;
  dateFormat?: string;
  placeholder?: string;
  className?: string;
  errorMessage?: string;
  hideErrorMessage?: boolean;
  status?: "error" | "success";
  t?: (key: string, values?: Record<string, any>, fallback?: string) => string;
  appearance?: {
    containerClassName?: string;
    inputClassName?: string;
    errorMessageClassName?: string;
  };
  isError?: boolean; // @deprecated
}
```

## Behavior

- Uses native browser date input for optimal mobile experience
- Automatically applies date selection on change (no separate apply button needed)
- Shows date in formatted display while maintaining string value for form compatibility
- Supports date range constraints with min/max dates
- Provides responsive design with proper touch targets
- Uses Indonesian locale for date formatting
- Shows error state with visual feedback and error message
- Includes calendar icon for clear visual indication

**Variants**: enabled, disabled, error states
**Sizes**: fixed height (32px) with responsive width
**Interaction**: native browser date picker with touch optimization

## Component Code

```tsx
import React, { useRef } from "react";

import { cn } from "@muatmuat/lib/utils";
import { format } from "date-fns";
import { id } from "date-fns/locale";

import { IconComponent } from "../IconComponent";
import { DatePickerResponsiveProps } from "./types";

// Simplified type for translation function
type TranslationFunction = (
  key: string,
  values?: Record<string, any>,
  fallback?: string
) => string;

const tMockFn: TranslationFunction = (key, _, fallback) => fallback || key;

const DatePickerResponsiveImplementation = (
  {
    value,
    onChange,
    onApply,
    // onCancel is no longer needed with auto-apply
    minDate,
    maxDate,
    disabled = false,
    dateFormat = "dd MMM yyyy", // Default format without time
    placeholder = "Select Date",
    className,
    errorMessage,
    hideErrorMessage = false,
    status,
    t = tMockFn,
    // Additional native date input specific props
    appearance = {
      containerClassName: "",
      inputClassName: "",
      errorMessageClassName: "",
    },
    // @deprecated legacy prop
    isError,
  }: DatePickerResponsiveProps,
  ref: React.ForwardedRef<HTMLDivElement>
) => {
  const datePickerRef = useRef<HTMLInputElement>(null);

  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const newDate = e.target.value;
    if (onChange) onChange(newDate);
    if (onApply) onApply(newDate);
  };

  const handleClick = () => {
    if (!disabled && datePickerRef.current) {
      datePickerRef.current.showPicker();
    }
  };

  // Determine error state (prefer new status prop, fall back to legacy isError or errorMessage)
  const showErrorState = status === "error" || isError || !!errorMessage;

  // Convert Date objects to string format for native date input
  const minDateString = minDate
    ? minDate.toISOString().split("T")[0]
    : undefined;
  const maxDateString = maxDate
    ? maxDate.toISOString().split("T")[0]
    : undefined;

  // Format the display value using date-fns or show placeholder
  const displayValue = value
    ? format(new Date(value), dateFormat, { locale: id })
    : placeholder;

  return (
    <div
      ref={ref}
      className={cn(
        "flex w-full flex-col gap-y-2",
        appearance.containerClassName,
        className
      )}
    >
      <div
        className={cn(
          "flex h-8 w-full cursor-pointer items-center rounded-md border bg-neutral-50 px-3 transition-colors",
          // Default & Hover & Focus states
          "border-neutral-600 focus-within:border-primary-700 hover:border-primary-700",
          // Error state
          showErrorState && "border-error-400",
          // Disabled state
          disabled &&
            "cursor-not-allowed border-neutral-600 bg-neutral-200 hover:border-neutral-600"
        )}
        onClick={handleClick}
      >
        <IconComponent
          src="/icons/calendar16.svg"
          className={cn(
            "size-4 text-neutral-700",
            showErrorState && "text-error-400"
          )}
        />
        <span
          className={cn(
            "w-full min-w-0 border-none bg-transparent text-sm font-semibold text-neutral-900 outline-none placeholder:text-neutral-600",
            disabled ? "cursor-not-allowed" : "cursor-text",
            !value && "text-neutral-500"
          )}
        >
          {displayValue}
        </span>
        <input
          className={cn(
            "absolute -top-[314px] opacity-0",
            appearance.inputClassName
          )}
          type="date"
          onChange={handleChange}
          ref={datePickerRef}
          disabled={disabled}
          max={maxDateString}
          min={minDateString}
        />
      </div>

      {/* Error Message */}
      {showErrorState && errorMessage && !hideErrorMessage && (
        <span
          className={cn(
            "text-xs font-medium text-error-400",
            appearance.errorMessageClassName
          )}
        >
          {t(errorMessage)}
        </span>
      )}
    </div>
  );
};

export const DatePickerResponsive = React.memo(
  React.forwardRef(DatePickerResponsiveImplementation)
);
DatePickerResponsive.displayName = "DatePickerResponsive";
```
